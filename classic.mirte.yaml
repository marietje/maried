includes:
  - threadPool.mirte.yaml
  - core.mirte.yaml
definitions:
  classicCollection:
    implementedBy: maried.classic.ClassicCollection
    inherits: [collection]
    settings:
      db: {type: classicDb}
  classicDb:
    implementedBy: maried.classic.ClassicDb
    settings:
      host: {type: str}
      username: {type: str}
      password: {type: str}
      database: {type: str}
  classicDesk:
    implementedBy: maried.classic.ClassicDesk
    inherits: [desk]
  classicHistory:
    implementedBy: maried.classic.ClassicHistory
    inherits: [history]
    settings:
      db: {type: classicDb}
  classicMediaInfo:
    implementedBy: maried.classic.ClassicMediaInfo
    inherits: [mediaInfo]
  classicMediaStore:
    implementedBy: maried.classic.ClassicMediaStore
    inherits: [mediaStore]
    settings:
      path: {type: str}
      threadPool: {type: threadPool}
  classicOrchestrator:
    implementedBy: maried.classic.ClassicOrchestrator
    inherits: [orchestrator]
  dummyPlayer:
    implementedBy: maried.classic.DummyPlayer
    inherits: [player]
  classicPlayer:
    implementedBy: maried.classic.ClassicPlayer
    inherits: [player]
  classicQueue:
    implementedBy: maried.classic.ClassicQueue
    inherits: [queue]
    settings:
      db: {type: classicDb}
      collection: {type: classicCollection }
  classicRandom:
    implementedBy: maried.classic.ClassicRandom
    inherits: [random]
  classicRequestServer:
    implementedBy: maried.classic.ClassicRequestServer
    inherits: [requestServer]
    settings:
      host: { type: str }
      port: { type: int }
      threadPool: { type: threadPool }
  classicScreen:
    implementedBy: maried.classic.ClassicScreen
    inherits: [screen]
    settings:
      bannerFile: {type: str}
  classicUsers:
    implementedBy: maried.classic.ClassicUsers
    inherits: [users]
    settings:
      maxQueueLength: {type: int}
      maxQueueCount: {type: int}
      collection: {type: classicCollection}
      queue: {type: classicQueue}
instances:
  classicDb:
    module: classicDb
    username: marietjed
    host: localhost
    database: marietjed
  collection:
    module: classicCollection
    db: classicDb
    mediaStore: mediaStore
  desk:
    module: classicDesk
    collection: collection
    mediaStore: mediaStore
    orchestrator: orchestrator
    queue: amalgamatedQueue
    users: users
  history:
    module: classicHistory
    db: classicDb
  mediaInfo:
    module: classicMediaInfo
  mediaStore:
    module: classicMediaStore
    mediaInfo: mediaInfo
    threadPool: threadPool
  orchestrator:
    module: classicOrchestrator
    history: history
    player: player
    queue: queue
    randomQueue: randomQueue
  randomQueue:
    module: randomQueue
    random: random
    length: 5
  player:
    module: classicPlayer
  amalgamatedQueue:
    module: amalgamatedQueue
    first: queue
    second: randomQueue
  queue:
    module: classicQueue
    db: classicDb
    collection: collection
  random:
    module: classicRandom
    collection: collection
    history: history
  requestServer:
    module: classicRequestServer
    desk: desk
    host: 0.0.0.0
    port: 1337
    threadPool: threadPool
  screen:
    module: classicScreen
    desk: desk
    bannerFile: /tmp/banner
  users:
    module: classicUsers
    collection: collection
    queue: queue
    maxQueueLength: 2700
    maxQueueCount: 15
